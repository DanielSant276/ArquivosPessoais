<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <title>WebI</title>
  <link href="./webI-1-script.js">
</head>

<body>
  <input type='text' id='cpf'>
  <button onClick='validaCPF()'>valida cpf</button>
  <br />
  <p id='text'>verifica CPF</p>

  <script>
    function validaCPF() {
      let cpf = document.getElementById("cpf").value;
      cpf = cpf.split('.').join('').split('-').join('');

      digitoUm = false;
      digitoDois = false;
      soma = 0;
      contador = 10;

      for (i = 0; i < cpf.length - 2; i++) {
        soma += cpf[i] * (contador - i);
      }

      if ((soma * 10 % 11) == cpf[9]) {
        digitoUm = true;
      }

      soma = 0
      for (i = 0; i < cpf.length - 1; i++) {
        soma += cpf[i] * (contador + 1 - i);
      }

      if ((soma * 10 % 11) == cpf[10]) {
        digitoDois = true;
      }

      if (digitoUm && digitoDois) {
        document.getElementById("text").innerHTML = 'CPF válido';
      }
      else {
        document.getElementById("text").innerHTML = 'CPF inválido';
      }
    }
  </script>
</body>

</html>